// handle case where it is 304

if (responseCode.code === 200) {
    tests["Status code is 302 or 200"] = true;
    tests["Body contains cookies"] = responseBody.has("cookies");
    
    var body = JSON.parse(responseBody);
    tests["Body contains cookie foo1"] = 'foo1' in body.cookies;
    tests["Body contains cookie foo2"] = 'foo2' in body.cookies;

}
else if (responseCode.code === 302) {
    tests["Status code is 302 or 200"] = true;
    tests["Body has redirection message"] = responseBody.has("Found. Redirecting to /cookies")
}
else {
    tests["Status code is 302 or 200"] = false;
}

tests["foo1 cookie is set"] = _.get(postman.getResponseCookie('foo1'), 'value') === 'bar1';

tests["foo2 cookie is set"] = _.get(postman.getResponseCookie('foo2'), 'value') === 'bar2';